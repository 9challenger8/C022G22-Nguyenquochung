
<main id="main">

  <div style="padding: 0 12px 0 12px">
    <div style="width: 100%;margin-top:7px ;height: 150px;
        background-image: url('https://resortdanang.info/wp-content/uploads/2018/11/sheraton-da-nang.jpg');opacity: 0.9">
      <h2
        style="font-size: 90px;margin: 0 ;padding-top: 25px ;color: #F7804A;text-align: center;font-family:Satisfy,sans-serif;font-weight:700;font-style:normal">
        Customers
      </h2>
    </div>
  </div>

  <section id="hero-slider" class="hero-slider">
    <div class=" my-container container-fluid">
      <div style="width: 100%;margin:0 0 7px 0 ;height: 55px;background-color: #cef8e0">
        <div style="display: flex;justify-content: space-between;align-items: center">
          <div style="margin : 0 0 0 20px ">
            <a>
              <i style="font-size: 40px;color: black" class="bi bi-person"></i>
            </a>
            <a routerLink="/customer/add" style="margin-left: 20px ">
              <i style="font-size: 40px;color: black" class="bi bi-person-plus"></i>
            </a>
            <a style="margin-left: 20px ">
              <i style="font-size: 40px;color: black" class="bi bi-sort-alpha-down"></i>
            </a>
            <a style="margin-left: 20px ">
              <i style="font-size: 40px;color: black" class="bi bi-sort-alpha-down-alt"></i>
            </a>
          </div>
          <div style="margin: 0 15px 0 0 ;">
            <div class="input-group">
              <input [formControl]="nameSearch" type="text" class="form-control" placeholder="Search name">
              <div>
                <button (click)="searchCustomerByName()" class="btn btn-secondary" type="button">
                  <i class="bi bi-search"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div>
        <table class="table table-responsive-lg  table-striped table-bordered "
               *ngIf="(customerList).length > 0; else noResults">
          <thead>
          <tr class="row-custom" style="background-color: #5DFC9A">
            <th scope="col">No.</th>
            <th scope="col">Name</th>


            <th scope="col">Date of birth</th>
            <th scope="col">Gender</th>
            <th scope="col">Id card</th>
            <th scope="col">Phone number</th>
            <th scope="col">Customer type</th>
            <th scope="col">Address</th>
            <th scope="col" colspan="2" style="text-align: center">Option</th>
          </tr>
          </thead>
          <tbody>
          <tr class="row-body-custom"
              *ngFor="let temp of customerList | paginate:{itemsPerPage: 3, currentPage: p};index as i">
            <th scope="row"> {{i + 1}}</th>
            <td>{{temp.name}}</td>
            <td>{{temp.dateOfBirth | date:"dd-MM-yyyy"}}</td>
            <td>{{temp.gender}}</td>
            <td>{{temp.cardId}}</td>
            <td>{{temp.phoneNumber}}</td>
            <td>{{temp.customerType.name}}</td>
            <td>{{temp.address}}</td>
            <td>
              <!-- Button trigger modal -->
              <button (click)="getDataForModal(temp.id,temp.name)" type="button" class="btn" data-bs-toggle="modal"
                      data-bs-target="#exampleModal">
                <i style="background-color: white;color: red;font-size: 22px;padding: 0" class="bi bi-trash-fill"></i>
              </button>


              <!--                     Modal-->
              <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                   aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      Delete
                    </div>
                    <div class="modal-body">
                      <p>Do you want delete customer name: <span style="color: red"> {{nameModal}} </span> <br>
                        with id: <span style="color: red">{{idModal}}</span> ?</p>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                      <a>
                        <button (click)="deleteCustomer()" type="button" data-bs-dismiss="modal"
                                class="btn btn-primary">Delete
                        </button>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </td>
            <td>
              <button [routerLink]="['/customer/edit',temp.id]" type="button" class="btn ">
                <i style="background-color: white;color: dodgerblue;font-size: 22px;padding: 0"
                   class="bi bi-pencil-square"></i>
              </button>
            </td>
          </tr>
          </tbody>
        </table>


        <!--            Hien thi khi khong co du lieu-->
        <ng-template #noResults>
          <table class="table table-responsive-lg  table-striped table-bordered ">
            <thead>
            <tr class="row-custom" style="background-color: #5DFC9A">
              <th scope="col">No.</th>
              <th scope="col">Name
              </th>
              <th scope="col">Date of birth</th>
              <th scope="col">Gender</th>
              <th scope="col">Id card</th>
              <th scope="col">Phone number</th>
              <th scope="col">Customer type</th>
              <th scope="col">Address</th>
              <th scope="col" colspan="2" style="text-align: center">Option</th>
            </tr>
            </thead>
            <tbody>
            <h3 style="color:black"> No results found.</h3>
            </tbody>
          </table>
        </ng-template>

        <!--            Pagination-->
        <div class="container">
          <pagination-controls (pageChange)="p = $event" class="d-flex flex-row-reverse"></pagination-controls>
        </div>
      </div>

    </div>
  </section><!-- End Hero Slider Section -->
</main>




